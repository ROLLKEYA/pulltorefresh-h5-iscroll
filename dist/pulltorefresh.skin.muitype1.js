/*! pulltorefresh 2.0.0 @copyright dailc https://github.com/dailc/pullToRefresh-h5-iscroll */
!function(t){function o(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var i={};o.m=t,o.c=i,o.i=function(t){return t},o.d=function(t,i,n){o.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},o.p="https://github.com/dailc/pullToRefresh-h5-iscroll/dist/",o(o.s=9)}({0:function(t,o,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){!function(){t.uuid=function(t,o){var i,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(o=o||n.length,t)for(i=0;i<t;i++)e[i]=n[0|Math.random()*o];else{var s;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",i=0;i<36;i++)e[i]||(s=0|16*Math.random(),e[i]=n[19==i?3&s|8:s])}return e.join("")},t.noop=function(){},t.extend=function(){var o,i,e,s,r,l,c=arguments[0]||{},a=1,u=arguments.length,h=!1;for("boolean"==typeof c&&(h=c,c=arguments[a]||{},a++),"object"===(void 0===c?"undefined":n(c))||t.isFunction(c)||(c={}),a===u&&(c=this,a--);a<u;a++)if(null!=(o=arguments[a]))for(i in o)e=c[i],s=o[i],c!==s&&(h&&s&&(t.isPlainObject(s)||(r=t.isArray(s)))?(r?(r=!1,l=e&&t.isArray(e)?e:[]):l=e&&t.isPlainObject(e)?e:{},c[i]=t.extend(h,l,s)):void 0!==s&&(c[i]=s));return c},t.isFunction=function(o){return"function"===t.type(o)},t.isPlainObject=function(o){return t.isObject(o)&&!t.isWindow(o)&&Object.getPrototypeOf(o)===Object.prototype},t.isArray=Array.isArray||function(t){return t instanceof Array},t.isWindow=function(t){return null!=t&&t===t.window},t.isObject=function(o){return"object"===t.type(o)},t.type=function(t){return null==t?String(t):o[{}.toString.call(t)]||"object"},t.each=function(t,o,i){if(!t)return this;if("number"==typeof t.length)[].every.call(t,function(t,i){return o.call(t,i,t)!==!1});else for(var n in t)if(i){if(t.hasOwnProperty(n)&&o.call(t[n],n,t[n])===!1)return t}else if(o.call(t[n],n,t[n])===!1)return t;return this};var o={};t.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(t,i){o["[object "+i+"]"]=i.toLowerCase()}),function(){function o(o){this.os={},this.os.name="browser";var i=[function(){var t=o.match(/(Android);?[\s\/]+([\d.]+)?/);return t&&(this.os.android=!0,this.os.version=t[2],this.os.isBadAndroid=!/Chrome\/\d/.test(window.navigator.appVersion),this.os.name+="_Android",this.os.name+="_mobile"),this.os.android===!0},function(){var t=o.match(/(iPhone\sOS)\s([\d_]+)/);if(t)this.os.ios=this.os.iphone=!0,this.os.version=t[2].replace(/_/g,"."),this.os.name+="_iphone",this.os.name+="_mobile";else{var i=o.match(/(iPad).*OS\s([\d_]+)/);i&&(this.os.ios=this.os.ipad=!0,this.os.version=i[2].replace(/_/g,"."),this.os.name+="_iOS",this.os.name+="_mobile")}return this.os.ios===!0}];[].every.call(i,function(o){return!o.call(t)})}o.call(t,navigator.userAgent)}(),function(){function o(t){this.os=this.os||{},t.match(/EpointEJS/i)&&(this.os.ejs=!0,this.os.name+="_ejs"),t.match(/DingTalk/i)&&(this.os.dd=!0,this.os.name+="_dd")}o.call(t,navigator.userAgent)}()}(),function(){var o=!1,i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,n=function(){};n.extend=function(t){function n(){!o&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;o=!0;var s=new this;o=!1;for(var r in t)s[r]="function"==typeof t[r]&&"function"==typeof e[r]&&i.test(t[r])?function(t,o){return function(){var i=this._super;this._super=e[t];var n=o.apply(this,arguments);return this._super=i,n}}(r,t[r]):t[r];return n.prototype=s,n.prototype.constructor=n,n.extend=this.extend,n},t.Clazz=n}()}(t.exports={})},1:function(t,o,i){"use strict";t.exports={namespace:"PullToRefreshTools.",generateGlobalObj:function(t,o,i){if(i){var n=i.split("."),e=n.length;this.getNameSpaceObj(t,n,e-1)[n[e-1]]=o}},getNameSpaceObj:function(t,o,i){for(var n=t,e=0;e<i;e++){var s=o[e];n[s]=n[s]||{},n=n[s]}return n}}},9:function(t,o,i){"use strict";var n,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o){"use strict;";function s(){!function(t,o){var i="mui-pull-top-pocket",n="mui-pull-bottom-pocket",e="mui-pull",s="mui-pull-loading",r="mui-pull-caption",l="mui-pull-caption-down",a="mui-pull-caption-refresh",u="mui-pull-caption-nomore",h="mui-icon",p="mui-spinner",d="mui-icon-pulldown",f="mui-block",m="mui-hidden",b="mui-visibility",w=s+" "+h+" "+d,y=s+" "+h+" "+d,v=s+" "+h+" "+p,g=['<div class="'+e+'">','<div class="{icon}"></div>','<div class="'+r+'">{contentrefresh}</div>',"</div>"].join(""),P={init:function(t,o){this._super(t,mui.extend(!0,{scrollY:!0,scrollX:!1,indicators:!0,deceleration:.003,down:{height:50,contentinit:"下拉可以刷新",contentdown:"下拉可以刷新",contentover:"释放立即刷新",contentrefresh:"正在刷新..."},up:{height:50,auto:!1,contentinit:"上拉显示更多",contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",duration:300}},o))},_init:function(){this._super(),this._initPocket()},_initPulldownRefresh:function(){this.pulldown=!0,this.pullPocket=this.topPocket,this.pullPocket.classList.add(f),this.pullPocket.classList.add(b),this.pullCaption=this.topCaption,this.pullLoading=this.topLoading},_initPullupRefresh:function(){this.pulldown=!1,this.pullPocket=this.bottomPocket,this.pullPocket.classList.add(f),this.pullPocket.classList.add(b),this.pullCaption=this.bottomCaption,this.pullLoading=this.bottomLoading},_initPocket:function(){var t=this.options;t.down&&t.down.hasOwnProperty("callback")&&(this.topPocket=this.scroller.querySelector("."+i),this.topPocket||(this.topPocket=this._createPocket(i,t.down,y),this.wrapper.insertBefore(this.topPocket,this.wrapper.firstChild)),this.topLoading=this.topPocket.querySelector("."+s),this.topCaption=this.topPocket.querySelector("."+r)),t.up&&t.up.hasOwnProperty("callback")&&(this.bottomPocket=this.scroller.querySelector("."+n),this.bottomPocket||(this.bottomPocket=this._createPocket(n,t.up,v),this.scroller.appendChild(this.bottomPocket)),this.bottomLoading=this.bottomPocket.querySelector("."+s),this.bottomCaption=this.bottomPocket.querySelector("."+r),this.wrapper.addEventListener("scrollbottom",this))},_createPocket:function(o,i,n){var e=t.createElement("div");return e.className=o,e.innerHTML=g.replace("{contentrefresh}",i.contentinit).replace("{icon}",n),e},_resetPullDownLoading:function(){var t=this.pullLoading;t&&(this.pullCaption.innerHTML=this.options.down.contentdown,t.style.webkitTransition="",t.style.webkitTransform="",t.style.webkitAnimation="",t.className=y)},_setCaptionClass:function(t,o,i){if(!t)switch(i){case this.options.up.contentdown:o.className=r+" "+l;break;case this.options.up.contentrefresh:o.className=r+" "+a;break;case this.options.up.contentnomore:o.className=r+" "+u}},_setCaption:function(t,o){if(!this.loading){var i=this.options,n=this.pullPocket,e=this.pullCaption,s=this.pullLoading,r=this.pulldown,l=this;n&&(o?setTimeout(function(){e.innerHTML=l.lastTitle=t,r?s.className=y:(l._setCaptionClass(!1,e,t),s.className=v),s.style.webkitAnimation="",s.style.webkitTransition="",s.style.webkitTransform=""},100):t!==this.lastTitle&&(e.innerHTML=t,r?t===i.down.contentrefresh?(s.className=v,s.style.webkitAnimation="spinner-spin 1s step-end infinite"):t===i.down.contentover?(s.className=w,s.style.webkitTransition="-webkit-transform 0.3s ease-in",s.style.webkitTransform="rotate(180deg)"):t===i.down.contentdown&&(s.className=y,s.style.webkitTransition="-webkit-transform 0.3s ease-in",s.style.webkitTransform="rotate(0deg)"):(t===i.up.contentrefresh?s.className=v+" "+b:s.className=v+" "+m,l._setCaptionClass(!1,e,t)),this.lastTitle=t))}}};c.PullRefresh=P}(document),function(t,o,i){var n="mui-visibility",e="mui-hidden",s=mui.Scroll.extend(mui.extend({handleEvent:function(t){this._super(t),"scrollbottom"===t.type&&t.target===this.scroller&&this._scrollbottom()},_scrollbottom:function(){this.pulldown||this.loading||(this.pulldown=!1,this._initPullupRefresh(),this.pullupLoading())},_start:function(t){t.touches&&t.touches.length&&t.touches[0].clientX>30&&t.target&&!this._preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.loading||(this.pulldown=this.pullPocket=this.pullCaption=this.pullLoading=!1),this._super(t)},_drag:function(t){this._super(t),!this.pulldown&&!this.loading&&this.topPocket&&"down"===t.detail.direction&&this.y>=0&&this._initPulldownRefresh(),this.pulldown&&this._setCaption(this.y>this.options.down.height?this.options.down.contentover:this.options.down.contentdown)},_reLayout:function(){this.hasVerticalScroll=!0,this._super()},resetPosition:function(t){if(this.pulldown){if(this.y>=this.options.down.height)return this.pulldownLoading(i,t||0),!0;!this.loading&&this.topPocket.classList.remove(n)}return this._super(t)},pulldownLoading:function(t,o){if(void 0===t&&(t=this.options.down.height),this.scrollTo(0,t,o,this.options.bounceEasing),!this.loading){this._initPulldownRefresh(),this._setCaption(this.options.down.contentrefresh),this.loading=!0,this.indicators.map(function(t){t.fade(0)});var i=this.options.down.callback;i&&i.call(this)}},endPulldownToRefresh:function(){var t=this;t.topPocket&&t.loading&&this.pulldown&&(t.scrollTo(0,0,t.options.bounceTime,t.options.bounceEasing),t.loading=!1,t._setCaption(t.options.down.contentdown,!0),setTimeout(function(){t.loading||t.topPocket.classList.remove(n)},350))},pullupLoading:function(o,i,n){if(this.options.up){if(this.finished&&this.refresh(!0),i=i||0,this.scrollTo(i,this.maxScrollY,n,this.options.bounceEasing),this.loading)return;this._initPullupRefresh(),this._setCaption(this.options.up.contentrefresh),this.indicators.map(function(t){t.fade(0)}),t.plus&&"Android"===plus.os.name||this.scrollTo(0,0,100),this.loading=!0,o=o||this.options.up.callback,o&&o.call(this)}},endPullupToRefresh:function(t){var o=this;o.bottomPocket&&(o.loading=!1,t?(this.finished=!0,o._setCaption(o.options.up.contentnomore),o.wrapper.removeEventListener("scrollbottom",o)):(o._setCaption(o.options.up.contentdown),o.loading||o.bottomPocket.classList.remove(n)))},disablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.className="mui-pull-bottom-pocket "+e,this.wrapper.removeEventListener("scrollbottom",this)},enablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.classList.remove(e),this._setCaption(this.options.up.contentdown),this.wrapper.addEventListener("scrollbottom",this)},refresh:function(t){t&&this.finished&&(this.enablePullupToRefresh(),this.finished=!1),this._super()},resetLoadingState:function(t,o){t&&this.endPulldownToRefresh(),o?this.endPullupToRefresh(!0):this.endPullupToRefresh(!1)},endPullDownToRefresh:function(){this.resetLoadingState(!0,!1)},endPullUpToRefresh:function(t){this.resetLoadingState(!1,t)}},c.PullRefresh));c.PullRefresh=s}(window,document)}var r=i(0),l=i(1),c={},a={down:{height:75,contentdown:"下拉可以刷新",contentover:"释放立即刷新",contentrefresh:"正在刷新",callback:r.noop},up:{auto:!1,offset:100,show:!0,contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",callback:r.noop},element:"#pullrefresh"};o.initPullToRefresh=function(t,o){var i=null;o=r.extend(!0,{},a,o);var n;return"object"!==(void 0===t?"undefined":e(t))?n=t:(o=t,n=o.element),n=n||a.element,"string"==typeof n&&(n=document.querySelector(n)),n?(s(),i=new c.PullRefresh(n,o),o.down&&o.down.auto?i.pulldownLoading(o.down.autoY):o.up&&o.up.auto&&i.pullupLoading(),i):(console.error("错误,下拉刷新容器为空!"),i)},void 0!==t&&t.exports?t.exports=o:void 0!==(n=function(){return o}.call(o,i,o,t))&&(t.exports=n),l.generateGlobalObj(window,o,l.namespace+"skin.muitype1")}({})}});