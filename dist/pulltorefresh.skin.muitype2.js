/*! pulltorefresh 2.0.0 @copyright dailc https://github.com/dailc/pullToRefresh-h5-iscroll */
!function(t){function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var e={};i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="https://github.com/dailc/pullToRefresh-h5-iscroll/dist/",i(i.s=3)}([function(t,i,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){!function(){t.uuid=function(t,i){var e,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];if(i=i||n.length,t)for(e=0;e<t;e++)s[e]=n[0|Math.random()*i];else{var o;for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",e=0;e<36;e++)s[e]||(o=0|16*Math.random(),s[e]=n[19==e?3&o|8:o])}return s.join("")},t.noop=function(){},t.extend=function(){var i,e,s,o,r,l,a=arguments[0]||{},u=1,p=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[u]||{},u++),"object"===(void 0===a?"undefined":n(a))||t.isFunction(a)||(a={}),u===p&&(a=this,u--);u<p;u++)if(null!=(i=arguments[u]))for(e in i)s=a[e],o=i[e],a!==o&&(h&&o&&(t.isPlainObject(o)||(r=t.isArray(o)))?(r?(r=!1,l=s&&t.isArray(s)?s:[]):l=s&&t.isPlainObject(s)?s:{},a[e]=t.extend(h,l,o)):void 0!==o&&(a[e]=o));return a},t.isFunction=function(i){return"function"===t.type(i)},t.isPlainObject=function(i){return t.isObject(i)&&!t.isWindow(i)&&Object.getPrototypeOf(i)===Object.prototype},t.isArray=Array.isArray||function(t){return t instanceof Array},t.isWindow=function(t){return null!=t&&t===t.window},t.isObject=function(i){return"object"===t.type(i)},t.type=function(t){return null==t?String(t):i[{}.toString.call(t)]||"object"},t.each=function(t,i,e){if(!t)return this;if("number"==typeof t.length)[].every.call(t,function(t,e){return i.call(t,e,t)!==!1});else for(var n in t)if(e){if(t.hasOwnProperty(n)&&i.call(t[n],n,t[n])===!1)return t}else if(i.call(t[n],n,t[n])===!1)return t;return this};var i={};t.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(t,e){i["[object "+e+"]"]=e.toLowerCase()}),function(){function i(i){this.os={},this.os.name="browser";var e=[function(){var t=i.match(/(Android);?[\s\/]+([\d.]+)?/);return t&&(this.os.android=!0,this.os.version=t[2],this.os.isBadAndroid=!/Chrome\/\d/.test(window.navigator.appVersion),this.os.name+="_Android",this.os.name+="_mobile"),this.os.android===!0},function(){var t=i.match(/(iPhone\sOS)\s([\d_]+)/);if(t)this.os.ios=this.os.iphone=!0,this.os.version=t[2].replace(/_/g,"."),this.os.name+="_iphone",this.os.name+="_mobile";else{var e=i.match(/(iPad).*OS\s([\d_]+)/);e&&(this.os.ios=this.os.ipad=!0,this.os.version=e[2].replace(/_/g,"."),this.os.name+="_iOS",this.os.name+="_mobile")}return this.os.ios===!0}];[].every.call(e,function(i){return!i.call(t)})}i.call(t,navigator.userAgent)}(),function(){function i(t){this.os=this.os||{},t.match(/EpointEJS/i)&&(this.os.ejs=!0,this.os.name+="_ejs"),t.match(/DingTalk/i)&&(this.os.dd=!0,this.os.name+="_dd")}i.call(t,navigator.userAgent)}()}(),function(){var i=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,n=function(){};n.extend=function(t){function n(){!i&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;i=!0;var o=new this;i=!1;for(var r in t)o[r]="function"==typeof t[r]&&"function"==typeof s[r]&&e.test(t[r])?function(t,i){return function(){var e=this._super;this._super=s[t];var n=i.apply(this,arguments);return this._super=e,n}}(r,t[r]):t[r];return n.prototype=o,n.prototype.constructor=n,n.extend=this.extend,n},t.Clazz=n}()}(t.exports={})},function(t,i,e){"use strict";t.exports={namespace:"PullToRefreshTools.",generateGlobalObj:function(t,i,e){if(e){var n=e.split("."),s=n.length;this.getNameSpaceObj(t,n,s-1)[n[s-1]]=i}},getNameSpaceObj:function(t,i,e){for(var n=t,s=0;s<e;s++){var o=i[s];n[o]=n[o]||{},n=n[o]}return n}}},,function(t,i,e){"use strict";var n,n,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(i){var o=e(0),r=e(1),l="touchstart",a="beforeChangeOffset",u="afterChangeOffset",p="pullstart",h="pulling",c=a,d=u,f="dragEndAfterChangeOffset",g="mui-transitioning",m="mui-pull-top-tips",v="mui-pull-bottom-tips",w="mui-pull-loading",b="mui-scroll",y="mui-pull-loading mui-icon mui-icon-pulldown",T=y+" mui-reverse",D="mui-pull-loading mui-spinner",_="mui-hidden",S="."+w,E={down:{height:75,callback:o.noop},up:{auto:!1,offset:100,show:!0,contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",callback:o.noop},preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},element:"#pullrefresh"},L=o.Clazz.extend({init:function(t,i){"object"!==(void 0===t?"undefined":s(t))?this.element=t:(i=t,this.element=i.element),this.element=this.element||E.element,"string"==typeof this.element&&(this.element=document.querySelector(this.element)),this.element.classList.add("pulltorefresh-mui-type"),this.element.classList.contains(b)||(this.element=this.element.querySelector("."+b)),mui(this.element.parentNode).scroll({indicators:!0}),this.options=o.extend(!0,{},E,i),this.stopped=this.isNeedRefresh=this.isDragging=!1,this.state=a,this.isInScroll=this.element.classList.contains(b),this.initPullUpTips(),this.initEvent(),this.options.up&&this.options.up.auto&&this.pullupLoading()},_preventDefaultException:function(t,i){for(var e in i)if(i[e].test(t[e]))return!0;return!1},initEvent:function(){this.options.down&&o.isFunction(this.options.down.callback)&&(this.element.addEventListener(l,this),this.element.addEventListener("drag",this),this.element.addEventListener("dragend",this)),this.pullUpTips&&(this.element.addEventListener("dragup",this),this.isInScroll?this.element.addEventListener("scrollbottom",this):window.addEventListener("scroll",this))},handleEvent:function(t){switch(t.type){case l:this.isInScroll&&this._canPullDown()&&t.target&&!this._preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();break;case"drag":this._drag(t);break;case"dragend":this._dragend(t);break;case"webkitTransitionEnd":this._transitionEnd(t);break;case"dragup":case"scroll":this._dragup(t);break;case"scrollbottom":this.pullupLoading(t)}},initPullDownTips:function(){var t=this;t.options.down&&o.isFunction(t.options.down.callback)&&(t.pullDownTips=function(){var i=document.querySelector("."+m);return i&&i.parentNode.removeChild(i),i||(i=document.createElement("div"),i.classList.add(m),i.innerHTML='<div class="mui-pull-top-wrapper"><span class="mui-pull-loading mui-icon mui-icon-pulldown"></span></div>',i.addEventListener("webkitTransitionEnd",t)),t.pullDownTipsIcon=i.querySelector(S),t.element.appendChild(i),i}())},initPullUpTips:function(){var t=this;t.options.up&&o.isFunction(t.options.up.callback)&&(t.pullUpTips=function(){var i=t.element.querySelector("."+v);return i||(i=document.createElement("div"),i.classList.add(v),t.options.up.show||i.classList.add(_),i.innerHTML='<div class="mui-pull-bottom-wrapper"><span class="mui-pull-loading">'+t.options.up.contentdown+"</span></div>",t.element.appendChild(i)),t.pullUpTipsIcon=i.querySelector(S),i}())},_transitionEnd:function(t){t.target===this.pullDownTips&&this.removing&&this.removePullDownTips()},_dragup:function(t){var i=this;if(!i.loading){if(t&&t.detail&&mui.gestures.session.drag)i.isDraggingUp=!0;else if(!i.isDraggingUp)return;i.isDragging||i._canPullUp()&&i.pullupLoading(t)}},_canPullUp:function(){if(this.removing)return!1;if(this.isInScroll){var t=this.element.parentNode.getAttribute("data-scroll");if(t){var i=mui.data[t];return i.y===i.maxScrollY}}return window.pageYOffset+window.innerHeight+this.options.up.offset>=document.documentElement.scrollHeight},_canPullDown:function(){if(this.removing)return!1;if(this.isInScroll){var t=this.element.parentNode.getAttribute("data-scroll");if(t){return 0===mui.data[t].y}}return 0===document.body.scrollTop},_drag:function(t){if(this.loading||this.stopped)return t.stopPropagation(),void t.detail.gesture.preventDefault();var i=t.detail;if(!this.isDragging&&"down"===i.direction&&this._canPullDown()){if(document.querySelector("."+m))return t.stopPropagation(),void t.detail.gesture.preventDefault();this.isDragging=!0,this.removing=!1,this.startDeltaY=i.deltaY,mui.gestures.session.lockDirection=!0,mui.gestures.session.startDirection=i.direction,this._pullStart(this.startDeltaY)}if(this.isDragging){t.stopPropagation(),t.detail.gesture.preventDefault();var e=i.deltaY-this.startDeltaY;e=Math.min(e,1.5*this.options.down.height),this.deltaY=e,this._pulling(e);var n=e>this.options.down.height?u:a;if(this.state!==n&&(this.state=n,this.state===u?(this.removing=!1,this.isNeedRefresh=!0):(this.removing=!0,this.isNeedRefresh=!1),this["_"+n](e)),mui.os.ios&&parseFloat(mui.os.version)>=8){var s=i.gesture.touches[0].clientY;if(s+10>window.innerHeight||s<10)return void this._dragend(t)}}},_dragend:function(t){var i=this;i.isDragging&&(i.isDragging=!1,i._dragEndAfterChangeOffset(i.isNeedRefresh)),i.isPullingUp&&(i.pullingUpTimeout&&clearTimeout(i.pullingUpTimeout),i.pullingUpTimeout=setTimeout(function(){i.isPullingUp=!1},1e3))},_pullStart:function(t){this.pullStart(t),mui.trigger(this.element,p,{api:this,startDeltaY:t})},_pulling:function(t){this.pulling(t),mui.trigger(this.element,h,{api:this,deltaY:t})},_beforeChangeOffset:function(t){this.beforeChangeOffset(t),mui.trigger(this.element,c,{api:this,deltaY:t})},_afterChangeOffset:function(t){this.afterChangeOffset(t),mui.trigger(this.element,d,{api:this,deltaY:t})},_dragEndAfterChangeOffset:function(t){this.dragEndAfterChangeOffset(t),mui.trigger(this.element,f,{api:this,isNeedRefresh:t})},removePullDownTips:function(){if(this.pullDownTips)try{this.pullDownTips.parentNode&&this.pullDownTips.parentNode.removeChild(this.pullDownTips),this.pullDownTips=null,this.removing=!1}catch(t){}},pullStart:function(t){this.initPullDownTips(t)},pulling:function(t){this.pullDownTips.style.webkitTransform="translate3d(0,"+t+"px,0)"},beforeChangeOffset:function(t){this.pullDownTipsIcon.className=y},afterChangeOffset:function(t){this.pullDownTipsIcon.className=T},dragEndAfterChangeOffset:function(t){t?(this.pullDownTipsIcon.className=D,this.pulldownLoading()):(this.pullDownTipsIcon.className=y,this.endPullDownToRefresh())},pulldownLoading:function(){if(!this.loading){if(!this.pullDownTips)return this.initPullDownTips(),void this.dragEndAfterChangeOffset(!0);this.loading=!0,this.pullDownTips.classList.add(g),this.pullDownTips.style.webkitTransform="translate3d(0,"+this.options.down.height+"px,0)",this.options.down.callback.apply(this)}},pullupLoading:function(t){this.loading||this.finished||(this.loading=!0,this.isDraggingUp=!1,this.pullUpTips&&(this.pullUpTips.classList.remove(_),t&&t.detail&&t.detail.gesture&&t.detail.gesture.preventDefault(),this.pullUpTipsIcon.innerHTML=this.options.up.contentrefresh,this.options.up.callback.apply(this)))},endPullDownToRefresh:function(){this.loading=!1,this.pullUpTips&&this.pullUpTips.classList.remove(_),this.pullDownTips.classList.add(g),this.pullDownTips.style.webkitTransform="translate3d(0,0,0)",this.deltaY<=0?this.removePullDownTips():this.removing=!0,this.isInScroll&&mui(this.element.parentNode).scroll().refresh()},endPullUpToRefresh:function(t){this.options.up&&(t?(this.finished=!0,this.pullUpTipsIcon.innerHTML=this.options.up.contentnomore,this.element.removeEventListener("dragup",this),window.removeEventListener("scroll",this)):this.pullUpTipsIcon.innerHTML=this.options.up.contentdown,this.loading=!1,this.isInScroll&&mui(this.element.parentNode).scroll().refresh())},setStopped:function(t){t!=this.stopped&&(this.stopped=t,this.pullUpTips&&this.pullUpTips.classList[t?"add":"remove"](_))},refresh:function(t){t&&this.finished&&this.pullUpTipsIcon&&(this.pullUpTipsIcon.innerHTML=this.options.up.contentdown,this.element.addEventListener("dragup",this),window.addEventListener("scroll",this),this.finished=!1)}});i.PullToRefresh=L,i.initPullToRefresh=function(t,e){return new i.PullToRefresh(t,e)},void 0!==t&&t.exports?t.exports=i:void 0!==(n=function(){return i}.call(i,e,i,t))&&(t.exports=n),void 0!==t&&t.exports?t.exports=i:void 0!==(n=function(){return i}.call(i,e,i,t))&&(t.exports=n),r.generateGlobalObj(window,i,r.namespace+"skin.muitype2")}({})}]);